!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["react-custom-audio-player"]=t():e["react-custom-audio-player"]=t()}(this,function(){return webpackJsonpreact_custom_audio_player([1],{13:function(e,t,a){"use strict";var n=a(9),i=a.n(n);a.d(t,"a",function(){return o}),a.d(t,"b",function(){return s}),a.d(t,"d",function(){return r}),a.d(t,"c",function(){return d});var o=function(){return i.a.createElement("svg",{width:"14px",height:"14px",viewBox:"315 8 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M321.89468,9.99823037 C322.154701,9.51069072 322.579033,9.5158552 322.8363,9.99823037 L327.89468,19.4826931 C328.154701,19.9702328 327.914515,20.3654617 327.374712,20.3654617 L323.356268,20.3654617 C322.809077,20.3654617 321.914515,20.3654617 321.374712,20.3654617 L317.356268,20.3654617 C316.809077,20.3654617 316.579033,19.9650683 316.8363,19.4826931 L321.89468,9.99823037 Z",id:"Triangle",stroke:"#3B4752",strokeWidth:"2",fill:"none",transform:"translate(322.365476, 14.999986) rotate(90.000000) translate(-322.365476, -14.999986) "}))},s=function(){return i.a.createElement("svg",{width:"4px",height:"4px",viewBox:"0 0 8 14",version:"1.1"},i.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round"},i.a.createElement("g",{id:"Artboard-5",transform:"translate(-385.000000, -125.000000)",stroke:"#3B4752",strokeWidth:"2"},i.a.createElement("g",{id:"Group-2",transform:"translate(385.000000, 126.000000)"},i.a.createElement("path",{d:"M1,0.5 L1,11.5",id:"Line"}),i.a.createElement("path",{d:"M7,0.5 L7,11.5",id:"Line-Copy"})))))},r=function(){return i.a.createElement("svg",{width:"14px",height:"13px",viewBox:"0 0 14 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{id:"Inbox",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("g",{id:"Inbox-Message-Detailed-Copy",transform:"translate(-1249.000000, -103.000000)",fill:"#3B4752"},i.a.createElement("g",{id:"Header",transform:"translate(615.000000, 88.000000)"},i.a.createElement("path",{d:"M646.875,22.25 C647.187502,22.25 647.453124,22.3593739 647.671875,22.578125 C647.890626,22.7968761 648,23.0624984 648,23.375 L648,26.375 C648,26.6875016 647.890626,26.9531239 647.671875,27.171875 C647.453124,27.3906261 647.187502,27.5 646.875,27.5 L635.625,27.5 C635.312498,27.5 635.046876,27.3906261 634.828125,27.171875 C634.609374,26.9531239 634.5,26.6875016 634.5,26.375 L634.5,23.375 C634.5,23.0624984 634.609374,22.7968761 634.828125,22.578125 C635.046876,22.3593739 635.312498,22.25 635.625,22.25 L637.78125,22.25 L636.703125,21.171875 C636.484374,20.9374988 636.378906,20.6679703 636.386719,20.3632812 C636.394531,20.0585922 636.503905,19.7968761 636.714844,19.578125 C636.925782,19.3593739 637.187498,19.25 637.5,19.25 L639,19.25 L639,16.625 C639,16.3124984 639.109374,16.0468761 639.328125,15.828125 C639.546876,15.6093739 639.812498,15.5 640.125,15.5 L642.375,15.5 C642.687502,15.5 642.953124,15.6093739 643.171875,15.828125 C643.390626,16.0468761 643.5,16.3124984 643.5,16.625 L643.5,19.25 L645,19.25 C645.328127,19.25 645.597655,19.3593739 645.808594,19.578125 C646.019532,19.7968761 646.128906,20.0585922 646.136719,20.3632812 C646.144531,20.6679703 646.031251,20.9374988 645.796875,21.171875 L644.71875,22.25 L646.875,22.25 Z M637.5,20.375 L641.25,24.125 L645,20.375 L642.375,20.375 L642.375,16.625 L640.125,16.625 L640.125,20.375 L637.5,20.375 Z M646.875,26.375 L646.875,23.375 L643.59375,23.375 L642.046875,24.921875 C641.828124,25.1406261 641.562502,25.25 641.25,25.25 C640.937498,25.25 640.671876,25.1406261 640.453125,24.921875 L638.90625,23.375 L635.625,23.375 L635.625,26.375 L646.875,26.375 Z M644.8125,24.875 C644.8125,24.7187492 644.867187,24.585938 644.976562,24.4765625 C645.085938,24.367187 645.218749,24.3125 645.375,24.3125 C645.531251,24.3125 645.664062,24.367187 645.773438,24.4765625 C645.882813,24.585938 645.9375,24.7187492 645.9375,24.875 C645.9375,25.0312508 645.882813,25.164062 645.773438,25.2734375 C645.664062,25.382813 645.531251,25.4375 645.375,25.4375 C645.218749,25.4375 645.085938,25.382813 644.976562,25.2734375 C644.867187,25.164062 644.8125,25.0312508 644.8125,24.875 Z",id:"More-Icon"})))))},d=function(){return i.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 17 17",version:"1.1"},i.a.createElement("defs",null,i.a.createElement("path",{d:"M10,21 C8.89742857,21 8,20.1028571 8,19 C8,17.8971429 8.89742857,17 10,17 C11.1025714,17 12,17.8971429 12,19 C12,20.1028571 11.1025714,21 10,21 Z",id:"path-1"})),i.a.createElement("g",{id:"Messages",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("g",{id:"Messages-V2",transform:"translate(-973.000000, -248.000000)",fillRule:"nonzero"},i.a.createElement("g",{id:"Replay-Icon",transform:"translate(969.000000, 244.000000)"},i.a.createElement("path",{d:"M7.02419728,11.4574669 C7.2984025,8.3979809 9.86916203,6 13,6 C16.3137085,6 19,8.6862915 19,12 C19,15.3137085 16.3137085,18 13,18 L13,20 C17.418278,20 21,16.418278 21,12 C21,7.581722 17.418278,4 13,4 C8.76405539,4 5.29704552,7.29220101 5.01810658,11.4574669 L3.80875019,11.4574669 C3.34987948,11.4574669 3.08783403,11.9815578 3.36327292,12.3478391 L5.58949463,15.3159406 C5.81194211,15.6129254 6.25741938,15.6135078 6.47986685,15.3165229 L8.70608857,12.3484214 C8.98152746,11.9809754 8.719482,11.4580492 8.26119362,11.4574669 L7.02419728,11.4574669 Z",id:"Combined-Shape",fill:"#3B4752",transform:"translate(12.125420, 12.000000) rotate(30.000000) translate(-12.125420, -12.000000) "})))))}},16:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=Math.floor(e/60),a=(e%60).toFixed();return(t<10?"0":"")+t+":"+(a<10?"0":"")+a}function r(){return navigator.userAgent.indexOf("MSIE ")>-1||navigator.userAgent.indexOf("Trident/")>-1||navigator.userAgent.indexOf("Edge/")>-1}function d(e){return"audio/wav"===e?".wav":"audio/ogg"===e?".ogg":"audio/mpeg"===e?".mp3":""}function u(e){var t=e.slice(2+(e.lastIndexOf(".")-1>>>0)).length;return t?e.slice(0,e.length-t-1):e}Object.defineProperty(t,"__esModule",{value:!0});var l=a(9),c=a.n(l),p=a(15),h=a.n(p),m=a(14),f=a.n(m),v=a(13);t.getExtensionFromType=d,t.extractFileName=u;var g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=console.log.bind(console),L=console.error?console.error.bind(console):y,E=console.warn?console.warn.bind(console):y,b=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.seekInProgress=!1,a.defaultState={paused:!0,loading:!1,reload:!1,displayedTime:0},a.state=Object.assign({},a.defaultState),e.showLoader&&(a.state.loading=!0),a.audio=null,a.audioProgressContainer=null,a.audioProgressBoundingRect=null,a.seekReleaseListener=function(e){return a.seek(e)},a.resizeListener=function(){return a.fetchAudioProgressBoundingRect()},a.audioPlayListener=function(){return a.setState({paused:!1,reload:!1})},a.audioPauseListener=function(){return a.setState({paused:!0})},a.audioEndListener=function(){return a.setState({reload:!0})},a.audioStallListener=function(){return a.togglePause(!0)},a.audioTimeUpdateListener=function(){return a.handleTimeUpdate()},a.audioMetadataLoadedListener=function(){return a.setState({activeTrackIndex:a.currentTrackIndex})},a.onBuffered=function(){a.setState({loading:!1})},a.audio=document.createElement("audio"),a.downloadAudio=a.downloadAudio.bind(a),a}return o(t,e),g(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("mouseup",this.seekReleaseListener),document.addEventListener("touchend",this.seekReleaseListener),window.addEventListener("resize",this.resizeListener),this.resizeListener();var t=this.audio;if(t.preload="none",t.addEventListener("play",this.audioPlayListener),t.addEventListener("pause",this.audioPauseListener),t.addEventListener("ended",this.audioEndListener),t.addEventListener("stalled",this.audioStallListener),t.addEventListener("timeupdate",this.audioTimeUpdateListener),t.addEventListener("loadedmetadata",this.audioMetadataLoadedListener),t.addEventListener("loadeddata",this.onBuffered),this.addMediaEventListeners(this.props.onMediaEvent),this.props.src&&(this.updateSource(),this.props.autoplay)){var a=this.props.autoplayDelayInSeconds||0;clearTimeout(this.delayTimeout),this.delayTimeout=setTimeout(function(){return e.togglePause(!1)},1e3*a)}this.props.audioElementRef&&this.props.audioElementRef(t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mouseup",this.seekReleaseListener),document.removeEventListener("touchend",this.seekReleaseListener),window.removeEventListener("resize",this.resizeListener),this.audio.removeEventListener("play",this.audioPlayListener),this.audio.removeEventListener("pause",this.audioPauseListener),this.audio.removeEventListener("ended",this.audioEndListener),this.audio.removeEventListener("stalled",this.audioStallListener),this.audio.removeEventListener("timeupdate",this.audioTimeUpdateListener),this.audio.removeEventListener("loadedmetadata",this.audioMetadataLoadedListener),this.audio.addEventListener("loadeddata",this.onBuffered),this.getName=this.getName.bind(this),this.removeMediaEventListeners(this.props.onMediaEvent),clearTimeout(this.gapLengthTimeout),clearTimeout(this.delayTimeout),this.audio.pause(),this.props.audioElementRef&&this.props.audioElementRef(this.audio)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.removeMediaEventListeners(this.props.onMediaEvent),this.addMediaEventListeners(e.onMediaEvent);var a=e.src;if(a===this.props.src&&e.showLoader==this.props.showLoader||(this.audio&&(this.audio.src=a||""),this.setState(this.defaultState)),a&&!this.props.src&&this.props.autoplay){var n=this.props.autoplayDelayInSeconds||0;clearTimeout(this.delayTimeout),this.delayTimeout=setTimeout(function(){return t.togglePause(!1)},1e3*n)}}},{key:"addMediaEventListeners",value:function(e){var t=this;e&&Object.keys(e).forEach(function(a){"function"==typeof e[a]&&t.audio.addEventListener(a,e[a])})}},{key:"removeMediaEventListeners",value:function(e){var t=this;e&&Object.keys(e).forEach(function(a){"function"==typeof e[a]&&t.audio.removeEventListener(a,e[a])})}},{key:"togglePause",value:function(e){if(this.audio){if("boolean"==typeof e?e:!this.state.paused)return this.audio.pause();if(this.props.src)try{this.audio.play(),0===this.audio.readyState&&this.setState({loading:!0})}catch(e){L(e);var t="Audio playback failed at "+(new Date).toLocaleTimeString()+"! (Perhaps autoplay is disabled in this browser.)";E(t)}}}},{key:"updateSource",value:function(){this.audio.src=this.props.src}},{key:"fetchAudioProgressBoundingRect",value:function(){this.audioProgressBoundingRect=this.audioProgressContainer.getBoundingClientRect()}},{key:"handleTimeUpdate",value:function(){!this.seekInProgress&&this.audio&&this.setState({displayedTime:this.audio.currentTime})}},{key:"adjustDisplayedTime",value:function(e){if(this.props.src&&!this.props.disableSeek&&0!==this.audio.readyState){if("mousedown"===e.type||"touchstart"===e.type)this.seekInProgress=!0,document.body.classList.add("noselect");else if(!this.seekInProgress)return;e.preventDefault();var t=this.audioProgressBoundingRect,a="touch"===e.type.slice(0,5),n=a?e.targetTouches.item(0).pageX:e.pageX,i=n-t.left-document.body.scrollLeft,o=t.width,s=i/o;this.setState({displayedTime:s*this.audio.duration})}}},{key:"getName",value:function(){return this.props.filename?this.props.type?u(this.props.filename)+d(this.props.type):this.props.filename:this.props.type?u(this.proops.src)+d(this.props.type):this.props.src}},{key:"downloadAudio",value:function(){var e=this.getName();if(r()){var t=new Blob([this.props.src]);window.navigator.msSaveBlob(t,e)}else{var a=document.createElement("a");document.body.appendChild(a),a.href=this.props.src,a.download=e,a.click(),document.removeChild(a)}}},{key:"seek",value:function(e){if(document.body.classList.remove("noselect"),this.seekInProgress){e.preventDefault(),this.seekInProgress=!1;var t=this.state.displayedTime;isNaN(t)||(this.audio.currentTime=t)}}},{key:"render",value:function(){var e=this,t=this.state.displayedTime,a=this.audio&&this.audio.duration||0,n=s(t),i=n+" ",o=(t&&a&&t/a*100||0)+"%",r=function(t){return e.adjustDisplayedTime(t)};return c.a.createElement("div",{id:"audio_player",className:f()("audio_player",{disabled:!this.props.src}),style:this.props.style},c.a.createElement("div",{className:"audio_controls"},c.a.createElement("div",{id:"play_pause_button",className:f()("play_pause_button","audio_button",{paused:!this.state.reload&&this.state.paused,loading:this.state.loading,reload:this.state.reload}),onClick:function(){return e.togglePause()}},c.a.createElement("div",{className:"play_pause_inner"},c.a.createElement("div",{className:"ivrplaybtn"},c.a.createElement(v.a,null)),c.a.createElement("div",{className:"ivrpausebtn"},c.a.createElement(v.b,null)),c.a.createElement("div",{className:"spinner"},c.a.createElement("img",{src:"https://storage.googleapis.com/branddesignmanager/CWANewDesign/images/spinners.gif"})),c.a.createElement("div",{className:"reload-icon"},c.a.createElement(v.c,null)," ")))),c.a.createElement("div",{id:"audio_time_progress",className:"audio_time_progress noselect",draggable:"false"},i),c.a.createElement("div",{id:"audio_progress_container",className:f()("audio_progress_container",{disabled:this.audio&&this.audio.readyState<3}),ref:function(t){return e.audioProgressContainer=t},onMouseDown:r,onMouseMove:r,onTouchStart:r,onTouchMove:r},c.a.createElement("div",{id:"audio_progress",className:"audio_progress",style:{width:o}}," ",c.a.createElement("code",null)),c.a.createElement("div",{id:"audio_progress_overlay",className:"audio_progress_overlay"},c.a.createElement("div",{className:"audio_info_marquee"},c.a.createElement("div",{id:"audio_info",className:"audio_info noselect",draggable:"false"},"Test")))),this.props.enableDownload&&c.a.createElement("div",{className:"download-btn"},c.a.createElement("i",{className:"button",onClick:this.downloadAudio},c.a.createElement(v.d,null))))}}]),t}(l.Component);t.default=b,b.propTypes={src:h.a.string,autoplay:h.a.bool,autoplayDelayInSeconds:h.a.number,cycle:h.a.bool,disableSeek:h.a.bool,style:h.a.object,onMediaEvent:h.a.object,audioElementRef:h.a.func,showLoader:h.a.bool,enableDownload:h.a.bool,type:h.a.oneOf(["audio/wav","audio/ogg","audio/mpeg",""]),filename:h.a.string},b.defaultProps={cycle:!1,showLoader:!1,enableDownload:!0,type:"",filename:""},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},writable:!0,configurable:!0})}},[16])});